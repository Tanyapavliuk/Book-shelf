{"mappings":"C,A,W,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,S,I,M,AEEe,CAAA,EAAA,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,W,M,A,C,E,E,W,A,E,I,C,S,C,E,O,E,K,E,K,EACD,MAAA,C,EAAM,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAChB,+F,A,M,EAEF,MAAA,C,EAAO,AAHK,EAAN,IAAA,GAGK,IAAJ,C,A,C,EACT,EAAA,E,K,C,I,C,U,CCPO,SAAS,EAAgB,CAAG,EACjC,OAAO,EACJ,GAAA,CACG,SAFN,CAAA,EAEQ,IAAA,EAAA,EAAA,GAAA,CACE,EAAA,EAAA,KAAA,CAAA,EAAA,EACA,UAAA,CACA,EAAA,EAAA,MAAA,CACA,EAAA,EAAA,WAAA,CACA,EAAA,EAAA,SAAA,CACA,EAAA,EAAA,SANF,CAUE,OAFK,GAAe,CAAA,EAClB,iHADF,EAEO,6HAC4F,MAAA,CATnG,AAAA,KAAA,IAAA,EAAa,yCAAA,EAS6E,WAG7D,MAAA,CAHsE,EAAM,wIAI/D,MAAA,CADb,EAAM,+DAEN,MAAA,CADa,EAAU,kDAIzB,MAAA,CAHE,EAAY,sHAOlC,MAAA,CAJoB,EAAO,KAAA,CAAM,IAAI,CAAC,EAAE,CAAC,iHAYxD,MAAA,CARe,EAAU,MAAA,CAAO,SAbxB,CAAA,EAcS,MAAO,AAAS,WADE,EAAA,IAAA,AAEpB,EAAE,CAAC,EAAE,CAAC,GAAA,CACP,0FAaJ,MAAA,CARV,EAAU,MAAA,CAAO,SANF,CAAA,EAOb,MAAO,AAAS,gBADE,EAAA,IAAA,AAEpB,EAAE,CAAC,EAAE,CAAC,GAAA,CACP,+EAa0C,MAAA,CAR/B,EAAU,MAAA,CAAO,SAN3B,CAAA,EAOY,MAAO,AAAS,aADE,EAAA,IAAA,AAEpB,EAAE,CAAC,EAAE,CAAC,GAAA,CACP,gMAKoC,MAAA,CAAJ,EAAI,4EAIzC,GACH,IAAA,CAAK,GAEV,CFvDA,IAAM,EAAc,SAAS,aAAA,CAAc,kBAE5B,SAAA,IAAA,MAAA,AAAA,CAAA,EAAf,AAAA,CAAA,EAAA,EAAA,CAAA,AAAA,EAAA,SAAgC,CAAI,E,I,E,E,E,M,A,C,E,E,W,A,E,I,C,S,C,E,O,E,K,E,K,EACkB,OAApD,EAAA,aAAa,OAAb,C,E,CAAqB,e,CAAgB,EAAA,KAAK,SAAL,CAAe,C,EAAM,I,A,M,E,OAA1D,EAAA,KAAA,CAAA,aAAA,EAAA,MAAA,CAAA,CAAqC,EAAA,KAAA,CAAA,KAAA,CAAe,EAAA,IAAA,G,E,G,C,E,A,C,EACtD,EAAA,EAFe,KAAA,CAAA,IAAA,CAAA,U,EAIf,AAJe,SAAiB,CAAI,EAArB,EAAA,KAAA,CAAA,IAAA,CAAA,U,E,W,O,E,K,C,I,C,U,GAMf,GAAI,CACF,IAAM,EAAQ,KAAK,KAAA,CAAM,aAAa,OAAA,CAAQ,gBAG1C,CAAC,GAAQ,EAAM,MAAA,EAIjB,EAAY,SAAA,CAAY,AAAA,EAAgB,GAGxC,EAAY,gBAAA,CAAiB,QAE7B,SAAsB,CAAC,EAGrB,GAFA,QAAQ,GAAA,CAAI,EAAE,MAAd,EAEK,EAAE,MAAA,CAAO,SAAA,CAAU,QAAA,CAAS,aAGjC,QAAQ,GAAA,CAAI,EAAE,MAAA,CAAO,OAAA,CAAQ,EAA7B,EAEA,QAAQ,GAAA,CAAI,WAAY,EAAE,MAAA,CAAO,OAAA,CAAQ,EAAzC,EACA,IAAM,EAAW,EAAM,SAAA,CACrB,SADF,CAAA,EACe,OAAA,AAAV,EAAA,GAAA,GAAkB,EAAE,MAAA,CAAO,OAAA,CAAQ,EAAzB,A,GAGf,GADA,QAAQ,GAAA,CAAI,GACR,AAAa,KAAb,EAAiB,CAGnB,GAFA,EAAM,MAAA,CAAO,EAAU,GACvB,aAAa,OAAA,CAAQ,eAAgB,KAAK,SAAA,CAAU,IACjD,CAAC,EAAM,MAAA,CAAQ,OAAO,GACzB,CAAA,EAAY,SAAA,CAAY,AAAA,EAAgB,EAC1C,EACF,IA1BH,GA4BD,CAAE,MAAO,EAAK,CACZ,QAAQ,GAAA,CAAI,EACd,CAEA,SAAS,IACJ,EAAY,SAAA,CAAa,2HAE9B,C","sources":["<anon>","src/js/shopping_list/shopping.js","src/js/shopping_list/serviceBook.js","src/js/shopping_list/marcupListBooks.js"],"sourcesContent":["(function () {\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $i7mVp = parcelRequire(\"i7mVp\");\n\nvar $4tSb9 = parcelRequire(\"4tSb9\");\n\nvar $i7mVp = parcelRequire(\"i7mVp\");\n\nvar $4tSb9 = parcelRequire(\"4tSb9\");\n\nvar $dIxxU = parcelRequire(\"dIxxU\");\nfunction $8b947c5a1eef479e$export$2e2bcd8739ae039() {\n    return $8b947c5a1eef479e$var$_ref.apply(this, arguments);\n}\nfunction $8b947c5a1eef479e$var$_ref() {\n    $8b947c5a1eef479e$var$_ref = (0, $i7mVp._)(function() {\n        var res;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        (0, $dIxxU.default)(\"https://books-backend.p.goit.global/books/category?category=Advice How-To and Miscellaneous\")\n                    ];\n                case 1:\n                    res = _state.sent();\n                    return [\n                        2,\n                        res.data\n                    ];\n            }\n        });\n    });\n    return $8b947c5a1eef479e$var$_ref.apply(this, arguments);\n}\n\n\nfunction $ec9d7c2f4527ed73$export$e98e29eff5c838f6(arr) {\n    return arr.map(function(param) {\n        var _id = param._id, title = param.title, _param_book_image = param.book_image, book_image = _param_book_image === void 0 ? \"./images/book_default/book_default.jpg\" : _param_book_image, author = param.author, description = param.description, list_name = param.list_name, buy_links = param.buy_links;\n        if (!description) description = \"Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops\";\n        return '<li class=\"shopping-list-card\">\\n            <div class=\"shopping-list-img-container\"><img class=\"shopping-list-img\" src=\"'.concat(book_image, '\" alt=\"').concat(title, '\" /></div>\\n            <div class=\"shopping-list-description-thumb\">\\n              <div >\\n                <h2 class=\"title-book\">').concat(title, '</h2>\\n                <h3 class=\"shopping-list__subtitle\">').concat(list_name, '</h3>\\n                <p class=\"description\">').concat(description, '</p>\\n              </div>\\n              <div class=\"shopping-list-thumb\">\\n                <span class=\"author\">').concat(author.split(\",\")[0], '</span>\\n                <ul class=\"shopping-list-store\">\\n                <li > \\n                 <a href=\"').concat(buy_links.filter(function(param) {\n            var name = param.name;\n            return name === \"Amazon\";\n        })[0].url, '\"><img src=\"./images/amazon.png\" alt=\"logo Amazon\" />\\n</a>\\n</li>\\n<li> \\n  <a href=\"').concat(buy_links.filter(function(param) {\n            var name = param.name;\n            return name === \"Apple Books\";\n        })[0].url, '\"><img src=\"./images/book.png\" alt=\"Book\" />\\n</a>\\n</li>\\n<li> \\n<a href=\"').concat(buy_links.filter(function(param) {\n            var name = param.name;\n            return name === \"Bookshop\";\n        })[0].url, '\"><img src=\"./images/book-block.png\" alt=\"logo Book-block\" /></a>\\n</li></ul>\\n                </div>\\n              </div>\\n            </div>\\n            <button type=\"button\" data-id=\"').concat(_id, '\" class=\"shopping-list-btn-del js-trash \">\\n</button> \\n          </li>\\n');\n    }).join(\"\");\n} // {/* <svg class=\"trash \">\n //   <use href=\"./images/sprite.svg#trash\"></use>\n // </svg>; */}\n\n\nvar $63415d2b53e88af1$var$listBooksEl = document.querySelector(\".js-list-books\");\nfunction $63415d2b53e88af1$var$addLocalStoredge(data) {\n    return $63415d2b53e88af1$var$_addLocalStoredge.apply(this, arguments);\n}\nfunction $63415d2b53e88af1$var$_addLocalStoredge() {\n    $63415d2b53e88af1$var$_addLocalStoredge = (0, $i7mVp._)(function(data) {\n        var _, _tmp, _1;\n        return (0, $4tSb9.__generator)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _ = localStorage.setItem;\n                    _tmp = [\n                        \"shopingBooks\"\n                    ];\n                    _1 = JSON.stringify;\n                    return [\n                        4,\n                        data()\n                    ];\n                case 1:\n                    _.apply(localStorage, _tmp.concat([\n                        _1.apply(JSON, [\n                            _state.sent()\n                        ])\n                    ]));\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return $63415d2b53e88af1$var$_addLocalStoredge.apply(this, arguments);\n}\n$63415d2b53e88af1$var$addLocalStoredge((0, $8b947c5a1eef479e$export$2e2bcd8739ae039));\ntry {\n    var $63415d2b53e88af1$var$books = JSON.parse(localStorage.getItem(\"shopingBooks\"));\n    // console.log('books', books);\n    // const books = [];\n    if (!$63415d2b53e88af1$var$books || !$63415d2b53e88af1$var$books.length) // console.log(\"fuck!!!\", books.length);\n    $63415d2b53e88af1$var$isEmpty();\n    else {\n        $63415d2b53e88af1$var$listBooksEl.innerHTML = (0, $ec9d7c2f4527ed73$export$e98e29eff5c838f6)($63415d2b53e88af1$var$books);\n        // const btnDelEl = document.querySelectorAll('.js-trash');\n        // console.log(books)\n        $63415d2b53e88af1$var$listBooksEl.addEventListener(\"click\", onRemuveCard);\n        function onRemuveCard(e) {\n            console.log(e.target);\n            if (!e.target.classList.contains(\"js-trash\")) return;\n            console.log(e.target.dataset.id);\n            console.log(\"targetId\", e.target.dataset.id);\n            var indexDel = $63415d2b53e88af1$var$books.findIndex(function(param) {\n                var _id = param._id;\n                return _id === e.target.dataset.id;\n            });\n            console.log(indexDel);\n            if (indexDel !== -1) {\n                $63415d2b53e88af1$var$books.splice(indexDel, 1);\n                localStorage.setItem(\"shopingBooks\", JSON.stringify($63415d2b53e88af1$var$books));\n                if (!$63415d2b53e88af1$var$books.length) return $63415d2b53e88af1$var$isEmpty();\n                $63415d2b53e88af1$var$listBooksEl.innerHTML = (0, $ec9d7c2f4527ed73$export$e98e29eff5c838f6)($63415d2b53e88af1$var$books);\n            }\n        }\n    }\n} catch (err) {\n    console.log(err);\n}\nfunction $63415d2b53e88af1$var$isEmpty() {\n    $63415d2b53e88af1$var$listBooksEl.innerHTML = '<p>This page is empty, add some books and proceed to order.</p><img src=\"./images/shopping_List/IMG_9606 1.png\" alt=\"\">\\n';\n}\n\n})();\n//# sourceMappingURL=shopinglist.23776362.js.map\n","import fetch from './serviceBook';\nimport { marcupListBooks } from './marcupListBooks';\nconst listBooksEl = document.querySelector('.js-list-books');\n\nasync function addLocalStoredge(data) {\n  localStorage.setItem('shopingBooks', JSON.stringify(await data()));\n}\n\naddLocalStoredge(fetch);\n\ntry {\n  const books = JSON.parse(localStorage.getItem('shopingBooks'));\n  // console.log('books', books);\n  // const books = [];\n  if (!books||!books.length) {\n    // console.log(\"fuck!!!\", books.length);\n isEmpty()\n  } else {\n    listBooksEl.innerHTML = marcupListBooks(books);\n    // const btnDelEl = document.querySelectorAll('.js-trash');\n    // console.log(books)\n    listBooksEl.addEventListener('click', onRemuveCard);\n\n    function onRemuveCard(e) {\n      console.log(e.target);\n\n      if (!e.target.classList.contains('js-trash')) {\n        return;\n      }\n      console.log(e.target.dataset.id);\n\n      console.log('targetId', e.target.dataset.id);\n      const indexDel = books.findIndex(\n        ({ _id }) => _id === e.target.dataset.id\n      );\n      console.log(indexDel);\n      if (indexDel !== -1) {\n        books.splice(indexDel, 1);\n        localStorage.setItem('shopingBooks', JSON.stringify(books));\n        if(!books.length){return isEmpty()}\n        listBooksEl.innerHTML = marcupListBooks(books);\n      }\n    }\n  }\n} catch (err) {\n  console.log(err);\n}\n\nfunction isEmpty() {\n     listBooksEl.innerHTML = `<p>This page is empty, add some books and proceed to order.</p><img src=\"./images/shopping_List/IMG_9606 1.png\" alt=\"\">\n`;\n}\n","import axios from 'axios';\n\nexport default async function () {\n  const res = await axios(\n    'https://books-backend.p.goit.global/books/category?category=Advice How-To and Miscellaneous'\n  );\n  return res.data;\n}\n","export function marcupListBooks(arr) {\n  return arr\n    .map(\n        ({_id,\n            title,\n            book_image = './images/book_default/book_default.jpg',\n            author,\n            description,\n            list_name,\n            buy_links,\n        }) => {\n            if (!description) { description =\n              'Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops'; };\n            return `<li class=\"shopping-list-card\">\n            <div class=\"shopping-list-img-container\"><img class=\"shopping-list-img\" src=\"${book_image}\" alt=\"${title}\" /></div>\n            <div class=\"shopping-list-description-thumb\">\n              <div >\n                <h2 class=\"title-book\">${title}</h2>\n                <h3 class=\"shopping-list__subtitle\">${list_name}</h3>\n                <p class=\"description\">${description}</p>\n              </div>\n              <div class=\"shopping-list-thumb\">\n                <span class=\"author\">${author.split(',')[0]}</span>\n                <ul class=\"shopping-list-store\">\n                <li > \n                 <a href=\"${\n                   buy_links.filter(({ name }) => {\n                     return name === 'Amazon';\n                   })[0].url\n                 }\"><img src=\"./images/amazon.png\" alt=\"logo Amazon\" />\n</a>\n</li>\n<li> \n  <a href=\"${\n    buy_links.filter(({ name }) => {\n      return name === 'Apple Books';\n    })[0].url\n  }\"><img src=\"./images/book.png\" alt=\"Book\" />\n</a>\n</li>\n<li> \n<a href=\"${\n              buy_links.filter(({ name }) => {\n                return name === 'Bookshop';\n              })[0].url\n            }\"><img src=\"./images/book-block.png\" alt=\"logo Book-block\" /></a>\n</li></ul>\n                </div>\n              </div>\n            </div>\n            <button type=\"button\" data-id=\"${_id}\" class=\"shopping-list-btn-del js-trash \">\n</button> \n          </li>\n`;\n        })\n    .join('');\n\n}\n// {/* <svg class=\"trash \">\n//   <use href=\"./images/sprite.svg#trash\"></use>\n// </svg>; */}"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$i7mVp","$4tSb9","$dIxxU","$8b947c5a1eef479e$var$_ref","_","__generator","_state","label","default","res","sent","data","apply","arguments","$ec9d7c2f4527ed73$export$e98e29eff5c838f6","arr","map","param","_id","title","_param_book_image","book_image","author","description","list_name","buy_links","concat","split","filter","name","url","join","$63415d2b53e88af1$var$listBooksEl","document","querySelector","$63415d2b53e88af1$var$_addLocalStoredge","_tmp","_1","localStorage","setItem","JSON","stringify","$63415d2b53e88af1$var$addLocalStoredge","$63415d2b53e88af1$var$books","parse","getItem","length","innerHTML","addEventListener","e","console","log","target","classList","contains","dataset","indexDel","findIndex","splice","$63415d2b53e88af1$var$isEmpty"],"version":3,"file":"shopinglist.23776362.js.map"}