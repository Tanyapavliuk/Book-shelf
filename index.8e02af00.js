!function(){var t,e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=n.parcelRequired7c6;function a(){try{"dark"===localStorage.getItem("theme")?document.body.setAttribute("dark",""):document.body.removeAttribute("dark")}catch(t){}}null==i&&((i=function(t){if(t in o)return o[t].exports;if(t in r){var e=r[t];delete r[t];var n={id:t,exports:{}};return o[t]=n,e.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){r[t]=e},n.parcelRequired7c6=i),document.querySelector('input[type = "checkbox"]').addEventListener("change",function(t){t.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),a()}),a();var s=document.querySelector(".support-list"),c=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"../src/images/support/save_the_children.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"../src/images/support/project_hope.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"../src/images/support/united24.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"../src/images/support/international_medical_corps.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"../src/images/support/medicins_sans_frontieres.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./images/support/razom.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"../src/images/support/action_against_hunger.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"../images/support/world_vision.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"../images/support/serhiy_prytula_charity_foundation.png"}].map(function(t){return'<li class="support-item">\n  <img src="'.concat(t.img,'" alt="').concat(t.title,'" class="support-logo" data-url="').concat(t.url,'" height="32px">\n  </li>')});s.innerHTML=c.join(""),document.querySelectorAll(".support-logo").forEach(function(t){t.addEventListener("click",function(){var t=this.getAttribute("data-url");window.open(t,"_blank")})});var l=document.querySelector(".support");document.querySelector(".see-more").addEventListener("click",function(){l.classList.toggle("expanded")});var u=i("i7mVp"),d=i("4tSb9"),p=i("dIxxU"),g=document.querySelector(".container-books"),m=document.querySelector(".book-list");function h(){return(h=(0,u._)(function(){var t;return(0,d.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,p.default).get("https://books-backend.p.goit.global/books/top-books ")];case 1:var n,o;return console.log((t=e.sent()).data),g.insertAdjacentHTML("beforeend",(n=t.data,o="",n.forEach(function(t){var e=t.books.map(function(t){var e=t.book_image,n=t.author,o=t.title;return'<li class="bs-list-item" hidden>\n        <a href="#" class="book-card">\n            <img class="book-img" src="'.concat(e,'" alt="').concat(o,'" />\n            <h3 class="book-title">').concat(o,'</h3>\n            <h4 class="book-author">').concat(n,"</h4>\n        </a>\n        </li>")}).join("");o+='<div class="category-block">\n        <h2 class="cat-title">'.concat(t.list_name,'</h2>\n        <ul class="book-list">').concat(e,'</ul>\n        <button type="button" class="btn-more">SEE MORE</button>\n    </div>')}),o)),[3,3];case 2:return console.log(e.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}console.dir(g),function(){h.apply(this,arguments)}(),m.addEventListener("click",void evt);var u=i("i7mVp"),d=i("4tSb9"),b=document.querySelector(".hero-ul"),f=document.querySelector(".backdrop"),k=document.querySelector(".modal"),v=document.querySelector(".modal-shopping-close"),y=document.querySelector(".render-modal");function _(){f.classList.remove("active"),k.classList.remove("active"),document.body.style.overflow="auto"}function w(t){return S.apply(this,arguments)}function S(){return(S=(0,u._)(function(t){var e,n;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e="https://books-backend.p.goit.global/books/".concat(t),[4,fetch(e)];case 1:if(!(n=o.sent()).ok)throw Error("Error: ".concat(n.status," ").concat(n.statusText));return[4,n.json()];case 2:return[2,[o.sent()]];case 3:return console.error(o.sent()),[3,4];case 4:return[2]}})})).apply(this,arguments)}function E(){return(E=(0,u._)(function(t){var n;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),y.innerHTML="",[4,w(t)];case 1:var r;return e=(n=o.sent())[0]._id,r=n.map(function(t){return'\n        <div class="card-modal" id="'.concat(t._id,'">\n        <img\n          class="modal-img"\n          alt="').concat(t.title,'"\n          src="').concat(t.book_image,'"\n        />\n  \n        <div class="thumb-modal">\n          <h2 class="book-title-in-modal">').concat(t.title,'</h2>\n          <p class="subtitle-book">').concat(t.author,'</p>\n          <p class="text book">\n          ').concat(t.description?t.description:"Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops",'\n          </p>\n          <ul class="shop-list">\n            <li>\n              <a href="').concat(t.buy_links[0].url,'">\n                <img src="/images/amazon.png" alt="Amazon" />\n              </a>\n            </li>\n            <li>\n              <a href="').concat(t.buy_links[1].url,'">\n                <img src="/images/book.png" alt="Apple Books" />\n              </a>\n            </li>\n            <li>\n              <a href="').concat(t.buy_links[4].url,'">\n                <img src="/images/book-block.png" alt="Bookshop" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n        ')}).join(""),y.insertAdjacentHTML("beforeend",r),JSON.parse(localStorage.getItem("savedBooks")).some(function(t){return t._id===e})?(y.insertAdjacentHTML("beforeend",'\n      <button type="submit" class="button book">\n        Remove from the shopping list\n      </button>\n      <p class="congratulation">\n        Сongratulations! You have added the book to the shopping list. To delete,\n        press the button “Remove from the shopping list”.\n      </p>\n    '),document.querySelector(".button.book").addEventListener("click",function(t){var n,o;-1!==(o=(n=JSON.parse(localStorage.getItem("savedBooks"))).findIndex(function(t){return t._id===e}))&&n.splice(o,1),localStorage.setItem("savedBooks",JSON.stringify(n)),_()})):(y.insertAdjacentHTML("beforeend",'\n      <button type="submit" class="button book">\n        Add to shopping list\n      </button>\n    '),document.querySelector(".button.book").addEventListener("click",function(t){(function(t){L.apply(this,arguments)})(e),_()})),[3,3];case 2:return console.error(o.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}function L(){return(L=(0,u._)(function(t){var e,n,o,r,i,a,s;return(0,d.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,w(t)];case 1:return n=(e=c.sent()[0])._id,o=e.book_image,r=e.title,i=e.list_name,a={_id:n,book_image:o,title:r,list_name:i,description:e.description,author:e.author,buy_links:e.buy_links},(s=JSON.parse(localStorage.getItem("savedBooks"))||[]).push(a),localStorage.setItem("savedBooks",JSON.stringify(s)),[3,3];case 2:return console.error(c.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}JSON.parse(localStorage.getItem("savedBooks"))||localStorage.setItem("savedBooks",JSON.stringify([])),window.addEventListener("load",function(){b.addEventListener("click",function(t){(function(t){E.apply(this,arguments)})("643282b1e85766588626a080"),f.classList.add("active"),k.classList.add("active"),document.body.style.overflow="hidden"}),f.addEventListener("click",function(t){t.target===f&&_()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&_()}),v.addEventListener("click",function(t){_()})})}();
//# sourceMappingURL=index.8e02af00.js.map
