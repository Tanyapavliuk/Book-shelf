{"mappings":"A,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,SEEe,eAAA,IACb,IAAM,EAAM,MAAM,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAChB,+FAEF,OAAO,EAAI,IAAX,AACF,CCPO,SAAS,EAAgB,CAAG,EACjC,OAAO,EACJ,GAAA,CACG,CAAC,CAAA,IAAC,CAAG,CAAA,MACD,CAAK,CAAA,WACL,EAAa,wCAAA,CAAA,OACb,CAAM,CAAA,YACN,CAAW,CAAA,UACX,CAAS,CAAA,UACT,CAAS,CACZ,IACQ,GAAe,CAAA,EAClB,iHADF,EAEO,CAAC;yFACqE,EAAE,EAAW,OAAO,EAAE,EAAM;;;uCAG9E,EAAE,EAAM;oDACK,EAAE,EAAU;uCACzB,EAAE,EAAY;;;qCAGhB,EAAE,EAAO,KAAA,CAAM,IAAI,CAAC,EAAE,CAAC;;;0BAGlC,EACP,EAAU,MAAA,CAAO,CAAC,CAAA,KAAE,CAAI,CAAE,GACjB,AAAS,WAAT,EACP,CAAC,EAAE,CAAC,GAAA,CACP;;;;WAIP,EACP,EAAU,MAAA,CAAO,CAAC,CAAA,KAAE,CAAI,CAAE,GACjB,AAAS,gBAAT,EACP,CAAC,EAAE,CAAC,GAAA,CACP;;;;SAIM,EACK,EAAU,MAAA,CAAO,CAAC,CAAA,KAAE,CAAI,CAAE,GACjB,AAAS,aAAT,EACP,CAAC,EAAE,CAAC,GAAA,CACP;;;;;2CAK8B,EAAE,EAAI;;;AAGjD,CAAC,GAEI,IAAA,CAAK,GAEV,CFvDA,MAAM,EAAc,SAAS,aAAA,CAAc,mBAM3C,AAJA,eAAgC,CAAI,EAClC,aAAa,OAAA,CAAQ,eAAgB,KAAK,SAAA,CAAU,MAAM,KAC5D,EAEiB,GAEjB,GAAI,CACF,IAAM,EAAQ,KAAK,KAAA,CAAM,aAAa,OAAA,CAAQ,gBAG1C,CAAC,GAAQ,EAAM,MAAA,EAIjB,EAAY,SAAA,CAAY,AAAA,EAAgB,GAGxC,EAAY,gBAAA,CAAiB,QAE7B,SAAsB,CAAC,EAGrB,GAFA,QAAQ,GAAA,CAAI,EAAE,MAAd,EAEI,CAAC,EAAE,MAAA,CAAO,SAAA,CAAU,QAAA,CAAS,YAC/B,OAEF,QAAQ,GAAA,CAAI,EAAE,MAAA,CAAO,OAAA,CAAQ,EAA7B,EAEA,QAAQ,GAAA,CAAI,WAAY,EAAE,MAAA,CAAO,OAAA,CAAQ,EAAzC,EACA,IAAM,EAAW,EAAM,SAAA,CACrB,CAAC,CAAA,IAAE,CAAG,CAAE,GAAK,IAAQ,EAAE,MAAA,CAAO,OAAA,CAAQ,EADxC,EAIA,GADA,QAAQ,GAAA,CAAI,GACR,AAAa,KAAb,EAAiB,CAGnB,GAFA,EAAM,MAAA,CAAO,EAAU,GACvB,aAAa,OAAA,CAAQ,eAAgB,KAAK,SAAA,CAAU,IACjD,CAAC,EAAM,MAAA,CAAQ,OAAO,GACzB,CAAA,EAAY,SAAA,CAAY,AAAA,EAAgB,EAC1C,CACF,IA1BH,GA4BD,CAAE,MAAO,EAAK,CACZ,QAAQ,GAAA,CAAI,EACd,CAEA,SAAS,IACJ,EAAY,SAAA,CAAY,CAAC;AAC9B,CAAC,AACD","sources":["<anon>","src/js/shopping_list/shopping.js","src/js/shopping_list/serviceBook.js","src/js/shopping_list/marcupListBooks.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $2shzp = parcelRequire(\"2shzp\");\nasync function $52e5eb9b4e7b8317$export$2e2bcd8739ae039() {\n    const res = await (0, $2shzp.default)(\"https://books-backend.p.goit.global/books/category?category=Advice How-To and Miscellaneous\");\n    return res.data;\n}\n\n\nfunction $af764e6d3bd01ca6$export$e98e29eff5c838f6(arr) {\n    return arr.map(({ _id: _id, title: title, book_image: book_image = \"./images/book_default/book_default.jpg\", author: author, description: description, list_name: list_name, buy_links: buy_links })=>{\n        if (!description) description = \"Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops\";\n        return `<li class=\"shopping-list-card\">\n            <div class=\"shopping-list-img-container\"><img class=\"shopping-list-img\" src=\"${book_image}\" alt=\"${title}\" /></div>\n            <div class=\"shopping-list-description-thumb\">\n              <div >\n                <h2 class=\"title-book\">${title}</h2>\n                <h3 class=\"shopping-list__subtitle\">${list_name}</h3>\n                <p class=\"description\">${description}</p>\n              </div>\n              <div class=\"shopping-list-thumb\">\n                <span class=\"author\">${author.split(\",\")[0]}</span>\n                <ul class=\"shopping-list-store\">\n                <li > \n                 <a href=\"${buy_links.filter(({ name: name })=>{\n            return name === \"Amazon\";\n        })[0].url}\"><img src=\"./images/amazon.png\" alt=\"logo Amazon\" />\n</a>\n</li>\n<li> \n  <a href=\"${buy_links.filter(({ name: name })=>{\n            return name === \"Apple Books\";\n        })[0].url}\"><img src=\"./images/book.png\" alt=\"Book\" />\n</a>\n</li>\n<li> \n<a href=\"${buy_links.filter(({ name: name })=>{\n            return name === \"Bookshop\";\n        })[0].url}\"><img src=\"./images/book-block.png\" alt=\"logo Book-block\" /></a>\n</li></ul>\n                </div>\n              </div>\n            </div>\n            <button type=\"button\" data-id=\"${_id}\" class=\"shopping-list-btn-del js-trash \">\n</button> \n          </li>\n`;\n    }).join(\"\");\n} // {/* <svg class=\"trash \">\n //   <use href=\"./images/sprite.svg#trash\"></use>\n // </svg>; */}\n\n\nconst $4b7d28a918203711$var$listBooksEl = document.querySelector(\".js-list-books\");\nasync function $4b7d28a918203711$var$addLocalStoredge(data) {\n    localStorage.setItem(\"shopingBooks\", JSON.stringify(await data()));\n}\n$4b7d28a918203711$var$addLocalStoredge((0, $52e5eb9b4e7b8317$export$2e2bcd8739ae039));\ntry {\n    const books = JSON.parse(localStorage.getItem(\"shopingBooks\"));\n    // console.log('books', books);\n    // const books = [];\n    if (!books || !books.length) // console.log(\"fuck!!!\", books.length);\n    $4b7d28a918203711$var$isEmpty();\n    else {\n        $4b7d28a918203711$var$listBooksEl.innerHTML = (0, $af764e6d3bd01ca6$export$e98e29eff5c838f6)(books);\n        // const btnDelEl = document.querySelectorAll('.js-trash');\n        // console.log(books)\n        $4b7d28a918203711$var$listBooksEl.addEventListener(\"click\", onRemuveCard);\n        function onRemuveCard(e) {\n            console.log(e.target);\n            if (!e.target.classList.contains(\"js-trash\")) return;\n            console.log(e.target.dataset.id);\n            console.log(\"targetId\", e.target.dataset.id);\n            const indexDel = books.findIndex(({ _id: _id })=>_id === e.target.dataset.id);\n            console.log(indexDel);\n            if (indexDel !== -1) {\n                books.splice(indexDel, 1);\n                localStorage.setItem(\"shopingBooks\", JSON.stringify(books));\n                if (!books.length) return $4b7d28a918203711$var$isEmpty();\n                $4b7d28a918203711$var$listBooksEl.innerHTML = (0, $af764e6d3bd01ca6$export$e98e29eff5c838f6)(books);\n            }\n        }\n    }\n} catch (err) {\n    console.log(err);\n}\nfunction $4b7d28a918203711$var$isEmpty() {\n    $4b7d28a918203711$var$listBooksEl.innerHTML = `<p>This page is empty, add some books and proceed to order.</p><img src=\"./images/shopping_List/IMG_9606 1.png\" alt=\"\">\n`;\n}\n\n\n//# sourceMappingURL=shopinglist.9875b589.js.map\n","import fetch from './serviceBook';\nimport { marcupListBooks } from './marcupListBooks';\nconst listBooksEl = document.querySelector('.js-list-books');\n\nasync function addLocalStoredge(data) {\n  localStorage.setItem('shopingBooks', JSON.stringify(await data()));\n}\n\naddLocalStoredge(fetch);\n\ntry {\n  const books = JSON.parse(localStorage.getItem('shopingBooks'));\n  // console.log('books', books);\n  // const books = [];\n  if (!books||!books.length) {\n    // console.log(\"fuck!!!\", books.length);\n isEmpty()\n  } else {\n    listBooksEl.innerHTML = marcupListBooks(books);\n    // const btnDelEl = document.querySelectorAll('.js-trash');\n    // console.log(books)\n    listBooksEl.addEventListener('click', onRemuveCard);\n\n    function onRemuveCard(e) {\n      console.log(e.target);\n\n      if (!e.target.classList.contains('js-trash')) {\n        return;\n      }\n      console.log(e.target.dataset.id);\n\n      console.log('targetId', e.target.dataset.id);\n      const indexDel = books.findIndex(\n        ({ _id }) => _id === e.target.dataset.id\n      );\n      console.log(indexDel);\n      if (indexDel !== -1) {\n        books.splice(indexDel, 1);\n        localStorage.setItem('shopingBooks', JSON.stringify(books));\n        if(!books.length){return isEmpty()}\n        listBooksEl.innerHTML = marcupListBooks(books);\n      }\n    }\n  }\n} catch (err) {\n  console.log(err);\n}\n\nfunction isEmpty() {\n     listBooksEl.innerHTML = `<p>This page is empty, add some books and proceed to order.</p><img src=\"./images/shopping_List/IMG_9606 1.png\" alt=\"\">\n`;\n}\n","import axios from 'axios';\n\nexport default async function () {\n  const res = await axios(\n    'https://books-backend.p.goit.global/books/category?category=Advice How-To and Miscellaneous'\n  );\n  return res.data;\n}\n","export function marcupListBooks(arr) {\n  return arr\n    .map(\n        ({_id,\n            title,\n            book_image = './images/book_default/book_default.jpg',\n            author,\n            description,\n            list_name,\n            buy_links,\n        }) => {\n            if (!description) { description =\n              'Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops'; };\n            return `<li class=\"shopping-list-card\">\n            <div class=\"shopping-list-img-container\"><img class=\"shopping-list-img\" src=\"${book_image}\" alt=\"${title}\" /></div>\n            <div class=\"shopping-list-description-thumb\">\n              <div >\n                <h2 class=\"title-book\">${title}</h2>\n                <h3 class=\"shopping-list__subtitle\">${list_name}</h3>\n                <p class=\"description\">${description}</p>\n              </div>\n              <div class=\"shopping-list-thumb\">\n                <span class=\"author\">${author.split(',')[0]}</span>\n                <ul class=\"shopping-list-store\">\n                <li > \n                 <a href=\"${\n                   buy_links.filter(({ name }) => {\n                     return name === 'Amazon';\n                   })[0].url\n                 }\"><img src=\"./images/amazon.png\" alt=\"logo Amazon\" />\n</a>\n</li>\n<li> \n  <a href=\"${\n    buy_links.filter(({ name }) => {\n      return name === 'Apple Books';\n    })[0].url\n  }\"><img src=\"./images/book.png\" alt=\"Book\" />\n</a>\n</li>\n<li> \n<a href=\"${\n              buy_links.filter(({ name }) => {\n                return name === 'Bookshop';\n              })[0].url\n            }\"><img src=\"./images/book-block.png\" alt=\"logo Book-block\" /></a>\n</li></ul>\n                </div>\n              </div>\n            </div>\n            <button type=\"button\" data-id=\"${_id}\" class=\"shopping-list-btn-del js-trash \">\n</button> \n          </li>\n`;\n        })\n    .join('');\n\n}\n// {/* <svg class=\"trash \">\n//   <use href=\"./images/sprite.svg#trash\"></use>\n// </svg>; */}"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$2shzp","$52e5eb9b4e7b8317$export$2e2bcd8739ae039","res","default","data","$af764e6d3bd01ca6$export$e98e29eff5c838f6","arr","map","_id","title","book_image","author","description","list_name","buy_links","split","filter","name","url","join","$4b7d28a918203711$var$listBooksEl","document","querySelector","$4b7d28a918203711$var$addLocalStoredge","localStorage","setItem","JSON","stringify","books","parse","getItem","length","innerHTML","addEventListener","e","console","log","target","classList","contains","dataset","indexDel","findIndex","splice","$4b7d28a918203711$var$isEmpty"],"version":3,"file":"shopinglist.9875b589.js.map"}