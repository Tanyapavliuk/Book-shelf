!function(){function e(e,n,t,o){Object.defineProperty(e,n,{get:t,set:o,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},t.parcelRequired7c6=i),i.register("iE7OH",function(n,t){"use strict";e(n.exports,"register",function(){return o},function(e){return o=e}),e(n.exports,"resolve",function(){return r},function(e){return r=e});var o,r,i={};o=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)i[n[t]]=e[n[t]]},r=function(e){var n=i[e];if(null==n)throw Error("Could not resolve bundle with id "+e);return n}}),i.register("aNJCr",function(n,t){e(n.exports,"getBundleURL",function(){return o},function(e){return o=e});"use strict";var o,r={};o=function(e){var n=r[e];return n||(n=function(){try{throw Error()}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),r[e]=n),n}}),i("iE7OH").register(JSON.parse('{"exmS0":"shopinglist.b77c57cc.js","aaLHb":"amazon.40ba9165.png","cL3Jl":"book.89e7d427.png","jr1cR":"book-block.950d06ef.png","ee16w":"sprite.ee5e019c.svg"}')),i("i7mVp"),i("4tSb9"),i("dIxxU");var s={};s=i("aNJCr").getBundleURL("exmS0")+i("iE7OH").resolve("aaLHb");var a={};a=i("aNJCr").getBundleURL("exmS0")+i("iE7OH").resolve("cL3Jl");var c={};c=i("aNJCr").getBundleURL("exmS0")+i("iE7OH").resolve("jr1cR");var l={};function u(e){return e.map(function(e){var t=e._id,o=e.title,r=e.book_image,i=e.author,u=e.description,d=e.list_name,p=e.buy_links;return u||(u="Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops"),'<li class="shopping-list-card">\n            <div class="shopping-list-img-container"><img class="shopping-list-img" src="'.concat(void 0===r?"./images/book_default/book_default.jpg":r,'" alt="').concat(o,'" /></div>\n            <div class="shopping-list-description-thumb">\n              <div >\n                <h2 class="title-book">').concat(o,'</h2>\n                <h3 class="shopping-list__subtitle">').concat(d,'</h3>\n                <p class="description">').concat(u,'</p>\n              </div>\n              <div class="shopping-list-thumb">\n                <span class="author">').concat(i.split(",")[0],'</span>\n                <ul class="shopping-list-store">\n                <li > \n                 <a href="').concat(p.filter(function(e){return"Amazon"===e.name})[0].url,'"><img src="').concat(n(s),'" />\n</a>\n</li>\n<li> \n  <a href="').concat(p.filter(function(e){return"Apple Books"===e.name})[0].url,'"><img src="').concat(n(a),'" alt="Book" />\n</a>\n</li>\n<li> \n<a href="').concat(p.filter(function(e){return"Bookshop"===e.name})[0].url,'"><img src="').concat(n(c),'" alt="logo Book-block" /></a>\n</li></ul>\n                </div>\n              </div>\n            </div>\n            <button type="button" data-id="').concat(t,'" class="shopping-list-btn-del js-trash "><svg class="trash ">\n  <use href="').concat(n(l),'#trash"></use>\n</svg> \n</button> \n          </li>\n')}).join("")}l=i("aNJCr").getBundleURL("exmS0")+i("iE7OH").resolve("ee16w");var d=document.querySelector(".js-list-books");try{var p=JSON.parse(localStorage.getItem("savedBooks"));p&&p.length?(d.innerHTML=u(p),d.addEventListener("click",function(e){if(console.log(e.target),e.target.classList.contains("js-trash")){console.log(e.target.dataset.id),console.log("targetId",e.target.dataset.id);var n=p.findIndex(function(n){return n._id===e.target.dataset.id});if(console.log(n),-1!==n){if(p.splice(n,1),localStorage.setItem("savedBooks",JSON.stringify(p)),!p.length)return f();d.innerHTML=u(p)}}})):f()}catch(e){console.log(e)}function f(){d.innerHTML='<p>This page is empty, add some books and proceed to order.</p><img src="./images/shopping_List/IMG_9606 1.png" alt="">\n'}}();
//# sourceMappingURL=shopinglist.b77c57cc.js.map
