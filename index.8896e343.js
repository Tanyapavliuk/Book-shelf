!function(){function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=o.parcelRequired7c6;function s(){try{"dark"===localStorage.getItem("theme")?document.body.setAttribute("dark",""):document.body.removeAttribute("dark")}catch(t){}}null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in a){var e=a[t];delete a[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},o.parcelRequired7c6=i),i.register("iE7OH",function(e,n){"use strict";t(e.exports,"register",function(){return o},function(t){return o=t}),t(e.exports,"resolve",function(){return r},function(t){return r=t});var o,r,a={};o=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)a[e[n]]=t[e[n]]},r=function(t){var e=a[t];if(null==e)throw Error("Could not resolve bundle with id "+t);return e}}),i.register("aNJCr",function(e,n){t(e.exports,"getBundleURL",function(){return o},function(t){return o=t});"use strict";var o,r={};o=function(t){var e=r[t];return e||(e=function(){try{throw Error()}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return(""+t[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),r[t]=e),e}}),i("iE7OH").register(JSON.parse('{"EVgbq":"index.8896e343.js","Mj81Y":"save_the_children.94101b22.png","anOJt":"project_hope.e3ab8a1b.png","k7TaH":"united24.4f0fa97a.png","cAlyB":"international_medical_corps.be796122.png","2O3ia":"medicins_sans_frontieres.43aa5a19.png","hwhBy":"razom.44c914c9.png","4ugcr":"action_against_hunger.d166ecc2.png","cPyKe":"world_vision.375d2563.png","7t5Ix":"serhiy_prytula_charity_foundation.e6f16e64.png","aaLHb":"amazon.34000ac9.png","cL3Jl":"book.7263ab5e.png","jr1cR":"book-block.a9d887af.png","gkMRl":"shopinglist.ac4519cf.js"}')),i("i8Q71"),document.querySelector('input[type = "checkbox"]').addEventListener("change",function(t){t.preventDefault(),"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),s()}),s();var c=i("i7mVp"),l=i("4tSb9"),c=i("i7mVp"),l=i("4tSb9"),u=i("dIxxU"),d=document.querySelector(".container-books");function g(){return p.apply(this,arguments)}function p(){return(p=(0,c._)(function(){var t;return(0,l.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,u.default).get("https://books-backend.p.goit.global/books/top-books ")];case 1:var n,o;return console.log((t=e.sent()).data),d.insertAdjacentHTML("beforeend",(n=t.data,o="",n.forEach(function(t){var e=t.list_name,n=t.books.map(function(t){var e=t.book_image,n=t.author,o=t.title,r=t._id;return'<li class="bs-list-item" hidden>\n        <div class="book-card" data-id="'.concat(r,'">\n        <div class="image-overlay" data-id="').concat(r,'">\n            <img class="book-img js-ct" src="').concat(e,'" alt="').concat(o,'" loading="lazy" />\n            <div class="image-description js-ct">\n      <p class="image-overlay-description"> quick view  </p>\n     </div>\n      </div>\n            <h3 class="book-title js-ct">').concat(o,'</h3>\n            <h4 class="book-author js-ct">').concat(n,"</h4>\n        </div>\n        </li>")}).join("");o+='<div class="category-block">\n        <h2 class="cat-title">'.concat(t.list_name,'</h2>\n        <ul class="book-list">').concat(n,'</ul>\n        <button type="button" class="btn-more" data-catname="').concat(e,'">SEE MORE</button>\n    </div>')}),o='<h1 class="main-title">Best Sellers <span>Books</span></h1>'+o)),[3,3];case 2:return console.log(e.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}d.firstChild||g();var h=document.querySelector(".category-list"),u=i("dIxxU"),m=u.default;function f(){return(f=(0,c._)(function(){return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,m.get("https://books-backend.p.goit.global/books/category-list").then(function(t){var e;e='<li class = "category-list-item"> All Categories </li>'+(e=t.data.map(function(t){var e=t.list_name;return'<li class = "category-list-item"> '.concat(e," </li>")}).join("")),h.innerHTML=e}).catch(function(t){return console.log("error",t)})];case 1:return t.sent(),[2]}})})).apply(this,arguments)}function v(t){return b.apply(this,arguments)}function b(){return(b=(0,c._)(function(t){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,m.get("https://books-backend.p.goit.global/books/category?category=".concat(t)).then(function(t){var e,n,o,r,a,i;return console.log(e=t.data),n='\n    <h2 class ="main-title">'.concat(e[0].list_name,'</h2>\n    <ul class="book-list">').concat(e.map(function(t){var e=t.author,n=t.book_image,o=(t.description,t.title),r=t._id;return'<li class="bs-list-item">\n          <div class="book-card " data-id="'.concat(r,'">\n    <div class="image-overlay" data-id="').concat(r,'">\n    <img class="book-img js-ct" src="').concat(n,'" alt="').concat(o,' loading="lazy" >\n    <div class="image-description">\n      <p class="image-overlay-description"> quick view  </p>\n     </div>\n      </div>\n    <h3 class="book-title js-ct">').concat(o,'</h3>\n    <p class="book-author js-ct"> ').concat(e,"</p>\n    </div>\n    </li>")}).join(""),"\n    </ul>\n     "),d.innerHTML=n,i=(a=(r=(o=document.querySelector(".main-title")).textContent).split(" "))[a.length-1],void(o.innerHTML=r.replace(i,'<span class="brendcolor">'.concat(i,"</span>")))})];case 1:return e.sent(),[2]}})})).apply(this,arguments)}h.addEventListener("click",function(t){var e=t.target;if("LI"===e.tagName){" All Categories "===e.textContent&&(d.innerHTML="",g()),v(e.textContent.trim());var n=document.querySelector(".categories__title-active");n&&n.classList.remove("categories__title-active"),t.target.classList.add("categories__title-active")}}),function(){f.apply(this,arguments)}();var y={};y=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("Mj81Y");var k={};k=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("anOJt");var _={};_=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("k7TaH");var w={};w=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("cAlyB");var E={};E=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("2O3ia");var L={};L=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("hwhBy");var S={};S=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("4ugcr");var H={};H=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("cPyKe");var R={};R=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("7t5Ix");var x=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:e(y)},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:e(k)},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:e(_)},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:e(w)},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:e(E)},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:e(L)},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:e(S)},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:e(H)},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:e(R)}],q=document.querySelector(".support-list"),O=x.map(function(t){return'<li class="support-item">\n  <div class="fund-container"> <img src="'.concat(t.img,'" alt="').concat(t.title,'" class="support-logo" data-url="').concat(t.url,'" height="32px"></div>\n \n  </li>')});q.innerHTML=O.join(""),document.querySelectorAll(".support-logo").forEach(function(t){t.addEventListener("click",function(){var t=this.getAttribute("data-url");window.open(t,"_blank")})});var A=document.querySelector(".support"),j=document.querySelector(".support-container"),B=document.querySelector(".see-more");function N(){j.scrollTo({top:0,behavior:"smooth"})}window.matchMedia("(max-width: 767px)").matches?B.addEventListener("click",function(){A.classList.toggle("expanded"),A.classList.contains("expanded")?(B.style.display="none",j.style.overflowY="scroll",j.style.overflowX="auto",j.style.height="220px",j.style.marginRight="10px"):(B.style.display="flex",j.style.overflowY="hidden",j.style.overflowX="hidden",j.style.height="auto",j.style.marginRight="0"),N()}):B.addEventListener("click",function(){A.classList.toggle("expanded"),A.classList.contains("expanded")?(B.style.display="none",j.style.overflowY="scroll",j.style.overflowX="auto",j.style.height="340px",j.style.marginRight="10px"):(B.style.display="flex",j.style.overflowY="hidden",j.style.overflowX="hidden",j.style.height="auto",j.style.marginRight="0"),N()}),document.addEventListener("click",function(t){t.target.closest(".support")||(A.classList.remove("expanded"),B.style.display="flex",j.style.overflowY="hidden",j.style.overflowX="hidden",j.style.height="auto",j.style.marginRight="0",N())});var c=i("i7mVp"),l=i("4tSb9"),J={};J=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("aaLHb");var C={};C=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("cL3Jl");var T={};T=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("jr1cR");var M=document.querySelector(".backdrop"),I=document.querySelector(".modal"),U=document.querySelector(".modal-shopping-close"),F=document.querySelector(".render-modal");function V(){M.classList.remove("active"),I.classList.remove("active"),document.body.style.overflow="auto"}function Y(t){return z.apply(this,arguments)}function z(){return(z=(0,c._)(function(t){var e,n;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e="https://books-backend.p.goit.global/books/".concat(t),[4,fetch(e)];case 1:if(!(n=o.sent()).ok)throw Error("Error: ".concat(n.status," ").concat(n.statusText));return[4,n.json()];case 2:return[2,[o.sent()]];case 3:return console.error(o.sent()),[3,4];case 4:return[2]}})})).apply(this,arguments)}function P(){return(P=(0,c._)(function(t){var o;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),F.innerHTML="",[4,Y(t)];case 1:var a;return n=(o=r.sent())[0]._id,a=o.map(function(t){return'\n        <div class="card-modal" id="'.concat(t._id,'">\n        <img\n          class="modal-img"\n          alt="').concat(t.title,'"\n          src="').concat(t.book_image,'"\n        />\n  \n        <div class="thumb-modal">\n          <h2 class="book-title-in-modal">').concat(t.title,'</h2>\n          <p class="subtitle-book">').concat(t.author,'</p>\n          <p class="text book">\n          ').concat(t.description?t.description:"Sorry, but this book does not have an accessible description. Try reading it on the website of one of the shops",'\n          </p>\n          <ul class="shop-list">\n            <li>\n              <a href="').concat(t.buy_links[0].url,'">\n                <img src="').concat(e(J),'" alt="Amazon" />\n              </a>\n            </li>\n            <li>\n              <a href="').concat(t.buy_links[1].url,'">\n                <img src="').concat(e(C),'" alt="Apple Books" />\n              </a>\n            </li>\n            <li>\n              <a href="').concat(t.buy_links[4].url,'">\n                <img src="').concat(e(T),'" alt="Bookshop" />\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n        ')}).join(""),F.insertAdjacentHTML("beforeend",a),JSON.parse(localStorage.getItem("savedBooks")).some(function(t){return t._id===n})?(F.insertAdjacentHTML("beforeend",'\n      <button type="submit" class="button book">\n        Remove from the shopping list\n      </button>\n      <p class="congratulation">\n        Сongratulations! You have added the book to the shopping list. To delete,\n        press the button “Remove from the shopping list”.\n      </p>\n    '),document.querySelector(".button.book").addEventListener("click",function(t){var e,o;-1!==(o=(e=JSON.parse(localStorage.getItem("savedBooks"))).findIndex(function(t){return t._id===n}))&&e.splice(o,1),localStorage.setItem("savedBooks",JSON.stringify(e)),V()})):(F.insertAdjacentHTML("beforeend",'\n      <button type="submit" class="button book">\n        Add to shopping list\n      </button>\n    '),document.querySelector(".button.book").addEventListener("click",function(t){(function(t){X.apply(this,arguments)})(n),V()})),[3,3];case 2:return console.error(r.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}function X(){return(X=(0,c._)(function(t){var e,n,o,r,a,i,s;return(0,l.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Y(t)];case 1:return n=(e=c.sent()[0])._id,o=e.book_image,r=e.title,a=e.list_name,i={_id:n,book_image:o,title:r,list_name:a,description:e.description,author:e.author,buy_links:e.buy_links},(s=JSON.parse(localStorage.getItem("savedBooks"))||[]).push(i),localStorage.setItem("savedBooks",JSON.stringify(s)),[3,3];case 2:return console.error(c.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}JSON.parse(localStorage.getItem("savedBooks"))||localStorage.setItem("savedBooks",JSON.stringify([])),window.addEventListener("load",function(){d.addEventListener("click",function(t){var e;console.dir(t.target),"BUTTON"===t.target.tagName&&v(t.target.dataset.catname),t.target.classList.value.includes("js-ct")&&(e=t.target.parentElement.dataset.id),e&&(function(t){P.apply(this,arguments)}(e),M.classList.add("active"),I.classList.add("active"),document.body.style.overflow="hidden",M.addEventListener("click",function(t){t.target===M&&V()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&V()}),U.addEventListener("click",function(t){V()}))})});var D=document.querySelector(".mask");window.addEventListener("load",function(){D.classList.add("hiden"),setTimeout(function(){D.remove()},600)});var K=document.querySelector(".scroll-btn");K.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("scroll",function(){window.scrollY>100?K.classList.add("show-scroll-btn"):K.classList.remove("show-scroll-btn")})}();
//# sourceMappingURL=index.8896e343.js.map
